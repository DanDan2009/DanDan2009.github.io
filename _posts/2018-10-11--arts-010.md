---
layout:     post
title:      "ARTS #010 "
subtitle:   "ARTS #010 "
date:       2018-10-11 17:46:00
author:     "Dan"
header-img: "img/post-bg-arst010.jpeg"
header-mask: 0.3
catalog:    true
tags:
    - ARTS
    - Algorihm
    - iOS
---


> ARTSæ˜¯`ç”±å·¦è€³æœµè€—å­--é™ˆçš“`å‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨:
æ¯å‘¨è‡³å°‘åšä¸€ä¸ªleetcodeçš„ç®—æ³•é¢˜ã€é˜…è¯»å¹¶ç‚¹è¯„è‡³å°‘ä¸€ç¯‡è‹±æ–‡æŠ€æœ¯æ–‡ç« ã€å­¦ä¹ è‡³å°‘ä¸€ä¸ªæŠ€æœ¯æŠ€å·§ã€åˆ†äº«ä¸€ç¯‡æœ‰è§‚ç‚¹å’Œæ€è€ƒçš„æ–‡ç« ã€‚ï¼ˆä¹Ÿå°±æ˜¯Algorithmã€Reviewã€Tipã€Shareç®€ç§°ARTSï¼‰ï¼Œè‡³å°‘åšæŒä¸€å¹´ã€‚


## ARTS 010 

è¿™æ˜¯ç¬¬10ç¯‡

## Algorihm ç®—æ³•é¢˜
leetcodeç®—æ³•ç¬¬767é¢˜.Reorganize String:
éš¾åº¦ï¼šä¸­ç­‰

```

Given a string S, check if the letters can be rearranged so that two characters that are adjacent to each other are not the same.

If possible, output any possible result.  If not possible, return the empty string.

Example 1:

Input: S = "aab"
Output: "aba"
Example 2:

Input: S = "aaab"
Output: ""
Note:

S will consist of lowercase letters and have length in range [1, 500].

```

æˆ‘çš„è§£é¢˜æ€è·¯ï¼Œé¦–å…ˆæˆ‘æƒ³åˆ°çš„æ˜¯å¦‚æœæŸä¸€ä¸ªå­—æ¯çš„ä¸ªæ•°è¶…è¿‡Sé•¿åº¦çš„ä¸€åŠï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯è¿”å›â€œâ€çš„ï¼Œé¢˜ç›®è¦æ±‚åªåŒ…å«å°å†™å­—æ¯ï¼Œæˆ‘å°±æƒ³åˆ°å…ˆè®¡ç®—å­—ç¬¦ä¸²Sä¸­æ¯ä¸ªå­—ç¬¦çš„ä¸ªæ•°ï¼Œç„¶åå°±æƒ³åˆ°äº†æŒ‰å­—ç¬¦ä¸ªæ•°å¤šå°‘æ’åºï¼Œæœ€åè¦è€ƒè™‘ä¸€äº›è¾¹ç•Œæ¡ä»¶ï¼Œæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼ŒLeetCodeçš„è¿è¡Œæ—¶é—´æ˜¯0msï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚

```

char* reorganizeString(char* S) {
    int len = strlen(S);
    
    //è®¡ç®—Sä¸­æ¯ä¸ªå­—æ¯çš„ä¸ªæ•°
    //Calculate the number of  letters in S
    int* charCount = (int*)malloc(sizeof(int) * 26);
    memset(charCount, 0, sizeof(int) * 26);
    for (int i = 0; i < len; i++) {
        int index = S[i] - 97;
        charCount[index]++;
    }
    
    //å¦‚æœæŸä¸€ä¸ªå­—æ¯çš„ä¸ªæ•°è¶…è¿‡Sé•¿åº¦çš„ä¸€åŠï¼Œç›´æ¥è¿”å›""
    //If the number of letters is more than half the length of S, directly return  ""
    for (int i = 0; i < 26; i++) {
        int index  = charCount[i];
        if (index > len/2 + len%2) {
            return "";
        }
    }
   
    
    //"æ’åº"ï¼Œè¿™é‡Œçš„æ’åºæ˜¯æŒ‰å­—æ¯çš„ä¸ªæ•°æ’åºï¼Œå­—æ¯å¤šçš„æ”¾åˆ°å‰é¢ã€‚æ¯”å¦‚S="dddbbbbffkkkkkk",é‚£ä¹ˆæ’åºåçš„orderSæ˜¯"kkkkkkbbbbdddff"
    //"sorting",The sorting here is sorted by the number of letters, and put the more letters in front,eg:if S="dddbbbbffkkkkkk",so orderS is "kkkkkkbbbbdddff"
    char * orderS = (char*)malloc(sizeof(char*) * len);
    int count = 0;
    for (int i = 0; i < 26; i++) {
        int  sortingNum = charCount[i];
        int maxIndex = i;
        for (int j =0; j < 26; j++) {
            if (sortingNum < charCount[j] ) {
                sortingNum = charCount[j];
                maxIndex = j;
            }
        }
        for (int j = 0; j < sortingNum; j++) {
            orderS[count++] = maxIndex + 97;
        }
        charCount[maxIndex] = 0;
    }
    
    //æ‰“ä¹±é¡ºåº æ¯”å¦‚orderSæ˜¯'bbbc ccdd',æ‰“ä¹±åå°±æ˜¯bcbcbdcd
    //reorganizeString eg: orderS is 'bbbc ccdd', reorganizeString is bcbcbdcd
    int max = len/2;
    int mid = max+ len%2;
    for (int i =0; i < max; i++) {
        S[2*i] =orderS[i];
        S[2*i+1] =orderS[mid+i];
    }
    if (len%2) {
        S[len -1] = orderS[max];
    }
    free(orderS);
    free(charCount);
    
    return S;
}

```


## Review
è¿™ç¯‡æ–‡ç« æ¥è‡ªï¼šhttps://medium.freecodecamp.org/how-to-become-a-git-expert-e7c38bf54826

### How to become a Git expert å¦‚ä½•æˆä¸ºGitä¸“å®¶
![](/img/15390000805666.jpg)
â€œtime-lapse photography of man standing beside road and bridge during daytimeâ€ by Ahsan Avi on Unsplash
ç™½å¤©äººä»¬ç«™åœ¨è·¯è¾¹å’Œæ¡¥è¾¹çš„å»¶æ—¶æ‘„å½± by Ahsan Avi on Unsplash

I made a mistake in my commit, how do I fix it ?
åœ¨æäº¤ä»£ç çš„æ—¶å€™æˆ‘ç®—äº†ä¸€ä¸ªé”™è¯¯ï¼Œè¯¥æ€ä¹ˆæ”¹æ­£ï¼Ÿ

My commit history is a mess, how do I make it neater?
æˆ‘çš„ä»£ç æäº¤è®°å½•å¾ˆæ··ä¹±ï¼Œæˆ‘è¯¥æ€æ ·è®©ä»–ä¿æŒæ•´æ´ã€‚

If you have ever had the above questions, then this post is for you. This post covers a list of topics which will make you a Git expert.
å¦‚æœä½ æ›¾ç»æœ‰è¿‡ä¸Šè¿°é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡ç« å°±æ˜¯ä¸ºä½ å‡†å¤‡çš„ã€‚è¿™ç¯‡æ–‡ç« æ¶µç›–äº†ä¸€ç³»åˆ—å¯ä»¥è®©ä½ æˆä¸ºGitä¸“å®¶çš„è¯é¢˜ã€‚

If you do not know Git basics, [click here](https://medium.freecodecamp.org/what-is-git-and-how-to-use-it-c341b049ae61) to check out my blog on Git basics. It is necessary that you know basics of Git to make the best use of this article.
å¦‚æœæ‚¨ä¸äº†è§£GitåŸºç¡€çŸ¥è¯†ï¼Œè¯·ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹æˆ‘çš„GitåŸºç¡€åšå®¢ã€‚äº†è§£Gitçš„åŸºç¡€çŸ¥è¯†æ˜¯å……åˆ†åˆ©ç”¨æœ¬æ–‡çš„å¿…è¦æ¡ä»¶ã€‚

![](/img/15390003478578.jpg)
â€œbroken ceramic plate on floorâ€ by chuttersnap on Unsplash
åœ°æ¿ä¸Šçš„é™¶ç“·æ¿ç¢äº†   by chuttersnap on Unsplash

#### Scenario 1 æƒ…æ™¯1 
Letâ€™s say(å‡è®¾) that you have committed a bunch of files and realised that the commit message you entered is actually not clear. Now you want to change the commit message. In order to do this you can use `git commit --amend`

å‡è®¾æ‚¨æäº¤äº†ä¸€å †æ–‡ä»¶ï¼Œå¹¶ä¸”æ„è¯†åˆ°æ‚¨è¾“å…¥çš„æäº¤æ¶ˆæ¯å®é™…ä¸Šå¹¶ä¸æ¸…æ¥šã€‚ç°åœ¨éœ€è¦æ›´æ”¹æäº¤æ¶ˆæ¯ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨git commit -amend

```
git commit --amend -m â€œNew commit messageâ€
```


#### Scenario 2  åœºæ™¯2
Letâ€™s say that you wanted to commit six files but, by mistake, you end up committing only five files. You may think that you can create a new commit and add the 6th file to that commit.

å‡è®¾æ‚¨æƒ³æäº¤6ä¸ªæ–‡ä»¶ï¼Œä½†é”™è¯¯åœ°ï¼Œæ‚¨æœ€ç»ˆåªæäº¤äº†5ä¸ªæ–‡ä»¶ã€‚æ‚¨å¯èƒ½è®¤ä¸ºæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œå¹¶å‘è¯¥æäº¤æ·»åŠ ç¬¬6ä¸ªæ–‡ä»¶ã€‚

There is nothing wrong with this approach. But, to maintain a neat commit history, wouldnâ€™t it be nicer if you could actually somehow add this file to your previous commit itself? This can be done through `git commit --amend` as well:

è¿™ç§æ–¹æ³•æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ä¿æŒä¸€ä¸ªæ•´æ´çš„æäº¤å†å²è®°å½•ï¼Œå¦‚æœæ‚¨èƒ½ä»¥æŸç§æ–¹å¼å°†è¿™ä¸ªæ–‡ä»¶æ·»åŠ åˆ°ä»¥å‰çš„æäº¤æœ¬èº«ï¼Œå²‚ä¸æ˜¯æ›´å¥½?è¿™å¯ä»¥é€šè¿‡' git commit -amend 'æ¥å®ç°:
```
git add file6
git commit --amend --no-edit
```

`--no-edit` means that the commit message does not change.


#### Scenario 3 åœºæ™¯3
Whenever you do a commit in Git, the commit has an author name and author email tied to it. Generally, when you set up Git for the first time, you set up the author name and email. You donâ€™t need to worry about the author details for every commit.

æ— è®ºä½•æ—¶åœ¨Gitä¸­æ‰§è¡Œæäº¤ï¼Œæäº¤éƒ½æœ‰ä¸€ä¸ªä½œè€…åå’Œä½œè€…ç”µå­é‚®ä»¶ã€‚é€šå¸¸ï¼Œå½“æ‚¨ç¬¬ä¸€æ¬¡è®¾ç½®Gitæ—¶ï¼Œæ‚¨ä¼šè®¾ç½®ä½œè€…åå’Œç”µå­é‚®ä»¶ã€‚æ‚¨ä¸éœ€è¦ä¸ºæ¯æ¬¡æäº¤æ‹…å¿ƒä½œè€…çš„è¯¦ç»†ä¿¡æ¯ã€‚


That said, itâ€™s possible that for a particular project you want to use a different email ID. You need to configure the email id for that project with the command:
ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºç‰¹å®šçš„é¡¹ç›®ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä½¿ç”¨ä¸åŒçš„ç”µå­é‚®ä»¶IDã€‚æ‚¨éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é…ç½®è¯¥é¡¹ç›®çš„ç”µå­é‚®ä»¶ID:

```
git config user.email â€œyour email idâ€
```

Letâ€™s say that you forgot to configure the email and already did your first commit. `Amend` can be used to change the author of your previous commit as well. The author of the commit can be changed using the following command:

å‡è®¾æ‚¨å¿˜è®°é…ç½®ç”µå­é‚®ä»¶ï¼Œå¹¶ä¸”å·²ç»è¿›è¡Œäº†ç¬¬ä¸€æ¬¡æäº¤ã€‚â€œAmendâ€ä¹Ÿå¯ä»¥ç”¨æ¥æ›´æ”¹æ‚¨ä»¥å‰æäº¤çš„ä½œè€…ã€‚æäº¤çš„ä½œè€…å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ›´æ”¹:
```
git commit --amend --author "Author Name <Author Email>"
```

##### Point to note  æ³¨æ„ç‚¹
Use the` amend` command only in your local repository. Using `amend` for the remote repository can create a lot of confusion.
ä»…åœ¨æœ¬åœ°å­˜å‚¨åº“ä¸­ä½¿ç”¨â€œamendâ€å‘½ä»¤ã€‚å¯¹è¿œç¨‹å­˜å‚¨åº“ä½¿ç”¨' amend 'ä¼šé€ æˆå¾ˆå¤šæ··ä¹±ã€‚


My Commit history is a mess. How do I handle it?
æˆ‘çš„æäº¤å†å²ä¸€å›¢ç³Ÿã€‚æˆ‘æ€ä¹ˆå¤„ç†?

Letâ€™s say that you are working on a piece of code. You know that the code is going to take approximately ten days to complete. Within those ten days, the other developers will also be committing code to the remote repository.
å‡è®¾æ‚¨æ­£åœ¨å¤„ç†ä¸€æ®µä»£ç ã€‚æ‚¨çŸ¥é“ï¼Œä»£ç å¤§çº¦éœ€è¦10å¤©æ‰èƒ½å®Œæˆã€‚åœ¨è¿™åå¤©å†…ï¼Œå…¶ä»–å¼€å‘äººå‘˜ä¹Ÿå°†å‘è¿œç¨‹å­˜å‚¨åº“æäº¤ä»£ç ã€‚

It is a **good practise** to keep your local repository code up-to-date with the code in the remote repository. This avoids a lot of merge conflicts later when you raise a pull request. So you decide that you will pull the changes from the remote repository once every two days.

ä¿æŒæœ¬åœ°å­˜å‚¨åº“ä»£ç ä¸è¿œç¨‹å­˜å‚¨åº“ä¸­çš„ä»£ç ä¿æŒæœ€æ–°æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µã€‚è¿™é¿å…äº†åœ¨ä»¥åæå‡ºpullè¯·æ±‚æ—¶å‡ºç°å¾ˆå¤šåˆå¹¶å†²çªã€‚å› æ­¤ï¼Œæ‚¨å†³å®šæ¯ä¸¤å¤©ä»è¿œç¨‹å­˜å‚¨åº“ä¸­æå–ä¸€æ¬¡æ›´æ”¹ã€‚

Every time you pull the code from the remote repository to the local repository a new merge commit is created in your local repository. This means that your local commit history is going to have a lot of merge commits which can make things look confusing to the reviewer.
æ¯æ¬¡å°†ä»£ç ä»è¿œç¨‹å­˜å‚¨åº“æå–åˆ°æœ¬åœ°å­˜å‚¨åº“æ—¶ï¼Œéƒ½ä¼šåœ¨æœ¬åœ°å­˜å‚¨åº“ä¸­åˆ›å»ºæ–°çš„åˆå¹¶æäº¤ã€‚è¿™æ„å‘³ç€æ‚¨çš„æœ¬åœ°æäº¤å†å²è®°å½•å°†ä¼šæœ‰å¾ˆå¤šåˆå¹¶æäº¤ï¼Œè¿™ä¼šè®©å®¡æŸ¥äººå‘˜æ„Ÿåˆ°å›°æƒ‘ã€‚

![](/img/15390010812407.jpg)
Here is how the commit history would look in your local repository.
ä¸‹é¢æ˜¯æäº¤å†å²è®°å½•åœ¨æœ¬åœ°å­˜å‚¨åº“ä¸­çš„æ ·å­ã€‚


How do you make the commit history look neater?
This is where rebase comes to the rescue.
å¦‚ä½•ä½¿æäº¤å†å²çœ‹èµ·æ¥æ›´æ•´æ´?
è¿™å°±æ˜¯rebaseæ•‘æ´çš„åœ°æ–¹ã€‚

What is rebasing?
Let me explain this through an example.

![](/img/15390011676640.jpg)
This diagram shows the commits in the release branch and your feature branch

1. The Release branch has three commits: Rcommit1, Rcommit2, and Rcommit3.
2. You created your Feature branch from the Release branch when it had only one commit, which is Rcommit1.
3. You have added two commits to the Feature branch. They are Fcommit1 and Fcommit2.
4. Your goal is to get the commits from the Release branch into your Feature branch.
5. You are going to use rebase to do this.
6. Let the name of the Release branch be release and the name of the Feature branch be feature.
7. Rebasing can be done using the following commands:

è¿™ä¸ªå›¾æ˜¾ç¤ºäº†å‘å¸ƒåˆ†æ”¯å’Œç‰¹æ€§åˆ†æ”¯ä¸­çš„æäº¤

1. Releaseåˆ†æ”¯æœ‰ä¸‰ä¸ªæäº¤:Rcommit1ã€Rcommit2å’ŒRcommit3ã€‚
2. å½“Releaseåˆ†æ”¯åªæœ‰ä¸€ä¸ªæäº¤(å³Rcommit1)æ—¶ï¼Œæ‚¨ä»å‘å¸ƒåˆ†æ”¯åˆ›å»ºäº†Feature åˆ†æ”¯ã€‚
3. æ‚¨å·²ç»å‘Featureåˆ†æ”¯æ·»åŠ äº†ä¸¤ä¸ªæäº¤ã€‚ä»–ä»¬æ˜¯Fcommit1å’ŒFcommit2ã€‚
4. æ‚¨çš„ç›®æ ‡æ˜¯å°†Releaseåˆ†æ”¯çš„æäº¤åˆå¹¶åˆ°æ‚¨çš„Featureåˆ†æ”¯ã€‚
5. ä½ è¦ç”¨rebaseæ¥åšè¿™ä¸ªã€‚
6. è®©Releaseåˆ†æ”¯çš„åç§°ä¸ºreleaseï¼ŒFeatureåˆ†æ”¯çš„åç§°ä¸ºfeatureã€‚
7. å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œé‡æ–°Rebasing:

```
git checkout feature
git rebase release
```



### Rebasing
While rebasing, your goal is to ensure the Feature branch gets the latest code from the Release branch.

Rebasing tries to add each commit, one by one, and checks for conflicts. Does that sound confusing?

Let me explain with the help of a diagram.

This shows what rebasing actually does internally:

å˜åŸº
åœ¨é‡æ–°å®šä½æ—¶ï¼Œæ‚¨çš„ç›®æ ‡æ˜¯ç¡®ä¿Featureåˆ†æ”¯ä»Releaseåˆ†æ”¯è·å¾—æœ€æ–°çš„ä»£ç ã€‚

rebaseå°è¯•é€ä¸ªæ·»åŠ æ¯ä¸ªæäº¤ï¼Œå¹¶æ£€æŸ¥å†²çªã€‚å¬èµ·æ¥å¾ˆæ··ä¹±å—?

è®©æˆ‘ç”¨å›¾è¡¨æ¥è§£é‡Šä¸€ä¸‹ã€‚

è¿™æ˜¾ç¤ºäº†rebaseåœ¨å†…éƒ¨çš„å®é™…ä½œç”¨:

![](/img/15390018040395.jpg)

Step 1

1. The moment you run the command, the Feature branch is pointed to the head of Release branch.
2. Now the Feature branch has three commits: Rcommit1, Rcommit2, and Rcommit3.
3. You may be wondering what happened to Fcommit1 and Fcommit2.
4. The commits are still there and will be used in the steps below.
Step 2
1. Now Git tries to add Fcommit1 to the Feature branch.
2. If there is no conflict Fcommit1 is added after Rcommit3
3. If there is a conflict, Git will notify you, and you will have to resolve the conflict manually.
Step 3
1. Once Fcommit1 is added, Git will try to add Fcommit2.
2. Again, if there is no conflict Fcommit2 is added after Fcommit1 and the rebase is successful.
3. If there is a conflict, Git will notify you, and you will have to resolve it manually.
4. After the entire rebase is done, you will notice that the Feature branch has Rcommit1, Rcommit2, Rcommit3 , Fcommit1, and Fcommit2.

æ­¥éª¤1

1. åœ¨è¿è¡Œå‘½ä»¤æ—¶ï¼ŒåŠŸèƒ½åˆ†æ”¯æŒ‡å‘å‘å¸ƒåˆ†æ”¯çš„å¤´ã€‚
2. ç°åœ¨ç‰¹æ€§åˆ†æ”¯æœ‰ä¸‰ä¸ªæäº¤:Rcommit1ã€Rcommit2å’ŒRcommit3ã€‚
3. æ‚¨å¯èƒ½æƒ³çŸ¥é“Fcommit1å’ŒFcommit2å‘ç”Ÿäº†ä»€ä¹ˆã€‚
4. æäº¤ä»ç„¶å­˜åœ¨å¹¶å°†åœ¨ä¸‹é¢çš„æ­¥éª¤ä¸­ä½¿ç”¨ã€‚
æ­¥éª¤2
1. ç°åœ¨Gitè¯•å›¾å°†Fcommit1æ·»åŠ åˆ°ç‰¹æ€§åˆ†æ”¯ã€‚
2. å¦‚æœæ²¡æœ‰å†²çªï¼Œåˆ™åœ¨Rcommit3ä¹‹åæ·»åŠ Fcommit1
3. å¦‚æœæœ‰å†²çªï¼ŒGitä¼šé€šçŸ¥æ‚¨ï¼Œæ‚¨å¿…é¡»æ‰‹åŠ¨è§£å†³å†²çªã€‚
æ­¥éª¤3
1. æ·»åŠ Fcommit1ä¹‹åï¼ŒGitå°†å°è¯•æ·»åŠ Fcommit2ã€‚
2. åŒæ ·ï¼Œå¦‚æœFcommit1ä¹‹åæ²¡æœ‰å†²çªï¼Œåˆ™åœ¨Fcommit1ä¹‹åæ·»åŠ Fcommit2ï¼Œå¹¶ä¸”é‡æ–°åŸºæ•°æˆåŠŸã€‚
3. å¦‚æœå‡ºç°å†²çªï¼ŒGitä¼šé€šçŸ¥æ‚¨ï¼Œæ‚¨å¿…é¡»æ‰‹åŠ¨è§£å†³å®ƒã€‚
4. æ‰€ç¤ºã€‚åœ¨å®Œæˆæ•´ä¸ªrebaseä¹‹åï¼Œæ‚¨å°†æ³¨æ„åˆ°Featureåˆ†æ”¯æœ‰Rcommit1ã€Rcommit2ã€Rcommit3ã€Fcommit1å’ŒFcommit2ã€‚

#### Points to note

1. Both Rebase and Merge are useful in Git. One is not better than the other.
2. In the case of a merge you will have a merge commit. In the case of a rebase there is no extra commit like a merge commit.
3. One best practise is to use the commands at different points. Use rebase when you are updating your local code repository with the latest code from the remote repository. Use merge when you are dealing with pull requests to merge the Feature branch back with the Release or Master branch.

æ³¨æ„ç‚¹

1. åœ¨Gitä¸­ï¼ŒRebaseå’ŒMergeéƒ½å¾ˆæœ‰ç”¨ã€‚ä¸€ä¸ªä¸æ¯”å¦ä¸€ä¸ªå¥½ã€‚
2. åœ¨åˆå¹¶çš„æƒ…å†µä¸‹ï¼Œä½ ä¼šæœ‰ä¸€ä¸ªåˆå¹¶æäº¤ã€‚åœ¨rebaseçš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰åƒåˆå¹¶æäº¤é‚£æ ·çš„é¢å¤–æäº¤ã€‚
3. æœ€å¥½çš„åšæ³•æ˜¯åœ¨ä¸åŒçš„åœ°æ–¹ä½¿ç”¨ä¸åŒçš„å‘½ä»¤ã€‚ä½¿ç”¨è¿œç¨‹å­˜å‚¨åº“ä¸­çš„æœ€æ–°ä»£ç æ›´æ–°æœ¬åœ°ä»£ç å­˜å‚¨åº“æ—¶ï¼Œè¯·ä½¿ç”¨rebaseã€‚åœ¨å¤„ç†pullè¯·æ±‚æ—¶ï¼Œä½¿ç”¨mergeå°†ç‰¹æ€§åˆ†æ”¯åˆå¹¶å›å‘å¸ƒåˆ†æ”¯æˆ–ä¸»åˆ†æ”¯ã€‚


### Congrats

You are now a Git expert ğŸ˜ƒ

In this post you have learnt about:

* amending commits
* rebase
Both of these are very useful concepts. Go explore the world of Git to learn even more.

æ­å–œ

ä½ ç°åœ¨ä¸€ä¸ªGitä¸“å®¶

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ äº†è§£åˆ°:

*ä¿®æ”¹æäº¤
*å˜åŸº
è¿™ä¸¤ä¸ªæ¦‚å¿µéƒ½å¾ˆæœ‰ç”¨ã€‚å»æ¢ç´¢Gitçš„ä¸–ç•Œï¼Œäº†è§£æ›´å¤šã€‚


About the author
I love technology and follow the advancements in the field. I also like helping others with my technology knowledge.

Feel free to connect with me on my LinkedIn account https://www.linkedin.com/in/aditya1811/

You can also follow me on twitter https://twitter.com/adityasridhar18

Other Posts by Me
[An introduction to Git](https://medium.freecodecamp.org/what-is-git-and-how-to-use-it-c341b049ae61)

[How to use Git efficiently](https://medium.freecodecamp.org/how-to-use-git-efficiently-54320a236369)


## TIPS:
### æ€ä¹ˆä½¿ç”¨itms-serviceså®‰è£…ä¼ä¸šè¯ä¹¦æ‰“åŒ…çš„ipaåˆ†å‘æœåŠ¡å™¨

æ­å»ºæœåŠ¡å™¨çš„è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦æˆ–Googleï¼Œ
æˆ‘ç”¨çš„æ˜¯Mac  ä¸‹çš„nginx

æˆ‘ç”¨çš„æœåŠ¡å™¨æ˜¯Mac Nginxï¼Œé…ç½®å¾ˆç®€å•ï¼Œç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹ã€‚ç°åœ¨çš„å…³é”®æ˜¯æ€ä¹ˆå¯ç”¨https.

åœ¨IOS7.1ç³»ç»Ÿä»¥åï¼Œå¦‚æœè¦ä½¿ç”¨ä¼ä¸šè¯ä¹¦(299ç¾å…ƒ)é€šè¿‡itms-servicesåœ¨çº¿å®‰è£…ipaçš„è¯å¿…é¡»èµ°httpsåè®®ã€‚

nginx å¼€å¯httpsé…ç½®ï¼š  https://www.jianshu.com/p/fe0fadb38600ã€

åœ¨åˆšæ‰çš„æ–‡ç« ä¸­æœ‰ä¸€ä¸ªé‡å¯çš„æ­¥éª¤ï¼š
brew services restart nginx

å»ºè®®åœ¨nginxçš„é…ç½®æ–‡ä»¶ä¸­å¼€å¯errorlogï¼Œè¿™æ ·å¯åŠ¨çš„è¿‡ç¨‹ä¸­æœ‰æŠ¥é”™çš„è¯å¯ä»¥ç›´æ¥æŸ¥çœ‹ï¼Œæœ‰äº›æŠ¥é”™åœ¨ç»ˆç«¯æ˜¯çœ‹ä¸åˆ°çš„ï¼Œ
æ¯”å¦‚æˆ‘åœ¨ç”¨brew services restart nginxé‡å¯çš„è¿‡ç¨‹ä¸­æç¤ºæˆåŠŸ

```
Stopping `nginx`... (might take a while)
==> Successfully stopped `nginx` (label: homebrew.mxcl.nginx)
==> Successfully started `nginx` (label: homebrew.mxcl.nginx)
```
ä½†æ˜¯ å…¶å®æ˜¯å¤±è´¥çš„ï¼Œ

åæ¥åœ¨errlogä¸­çœ‹åˆ°ï¼šbind() to 0.0.0.0:443 failed (13: Permission denied)

éœ€è¦ä½¿ç”¨ï¼š
sudo brew services restart nginx å¯åŠ¨å³å¯


è¿™é‡Œæœ‰ä¸ªæ¦‚å¿µéœ€è¦CAï¼Œå…³äºCAçš„è§£é‡Š:https://www.cnblogs.com/handsomeBoys/p/6556336.htmlã€https://www.jianshu.com/p/57066821b863
ç®€å•è¯´ä¸€ä¸‹ï¼Œå°±æ˜¯å¼€å¯httpséœ€è¦è¯ä¹¦ï¼Œè¿™ä¸ªè¯ä¹¦éœ€è¦å‘ç¬¬ä¸‰æ–¹æƒå¨ç½‘ç«™è¿›è¡Œç”³è¯·ï¼Œä¹Ÿå¯ä»¥è‡ªå»ºã€‚å½“ç„¶çº¿ä¸Šè¿è¡Œçš„httpsç½‘ç«™æ˜¯è‚¯å®šè¦åƒç¬¬ä¸‰æ–¹æƒå¨ç½‘ç«™è¿›è¡Œçš„ã€‚
å› ä¸ºè‡ªå»ºçš„è¯ä¹¦éœ€è¦ç”¨æˆ·æ‰‹åŠ¨å®‰è£…ï¼Œè€Œä¸”æµè§ˆå™¨æ˜¯ä¸ä¿¡ä»»çš„ã€‚å¦‚æœä»»ä½•äººéƒ½å¯ä»¥åˆ›å»ºè¯ä¹¦httpså°±æ²¡æœ‰æ„ä¹‰äº†äº†ã€‚
ä½†æ˜¯æˆ‘ä»¬ç°åœ¨çš„ç›®çš„æ˜¯å…¬å¸å±€åŸŸç½‘ä½¿ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨è‡ªå»ºçš„è¯ä¹¦ï¼Œè‡ªå»ºçš„è¯ä¹¦éœ€è¦ä½¿ç”¨çš„ç”¨æˆ·æ‰‹åŠ¨å®‰è£…æ‰è¡Œã€‚

å…³äºitms-servicesçš„è®¾ç½®ä¸‹é¢è¿™ç¯‡æ–‡ç« è®²çš„ä¹Ÿå¾ˆæ¸…æ¥š:
http://www.cnblogs.com/feiyiban588/p/5788310.html
https://blog.csdn.net/RazerTang/article/details/46898051/

ä¹Ÿå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åˆ¶ä½œCAï¼š

#### è‡ªå·±åšCA

##### ä¸€. ç®€ä»‹
ä¹‹å‰æˆ‘çš„åšå®¢æ”¯æŒhttpsä½¿ç”¨çš„æ˜¯å‘StartCom CAç”³è¯·ç­¾å‘çš„ä¸€å¹´å…è´¹è¯ä¹¦ã€‚StartComæ˜¯å—ä¿¡èµ–çš„CAæœºæ„ï¼Œå®ƒçš„æ ¹è¯ä¹¦è¢«å„ç§æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨å†…ç½®ä¿¡ä»»ï¼Œæ‰€ä»¥ç”±å®ƒç­¾å‘çš„è¯ä¹¦ä¹Ÿä¼šè¢«ä¿¡ä»»ã€‚

æœ€è¿‘åšäº†ä¸ªiOS ipaåŒ…ä¸Šä¼ ä¸‹è½½ç¨‹åºï¼Œä¹Ÿéœ€è¦ä½¿ç”¨httpsé“¾æ¥ï¼Œä¸Šç½‘æŸ¥äº†ä¸‹å‘ç°å¯ä»¥è‡ªå·±ç­¾åè¯ä¹¦ï¼Œæ‰€ä»¥å®è·µäº†ä¸‹ï¼Œä¸‹é¢æ˜¯è¯¦ç»†æ­¥éª¤ã€‚

ç‰¹åˆ«æ¨èä¸‹é¢è¿™ä¸ªç½‘ç«™ï¼Œè®²çš„æ˜¯...éå¸¸è¯¦ç»†ã€‚

https://jamielinux.com/docs/openssl-certificate-authority/index.html

æ•™ç¨‹é‡Œæœ‰äº›åŠŸèƒ½äº†è§£å°±å¯ä»¥äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘å»æ‰äº†å…¶ä¸­ä¸€äº›æ­¥éª¤ï¼Œç®€å•å¥½ç”¨äº›ã€‚

##### äºŒ. CA
è‡ªå·±å½“CAï¼Œå°±æ˜¯ç”¨opensslå‘½ä»¤ç”Ÿæˆè‡ªå·±çš„æ ¹è¯ä¹¦ï¼Œè®©ç”¨æˆ·å®‰è£…ä¿¡ä»»å®ƒï¼Œé‚£ä¹ˆæ‰€æœ‰ç”¨è¿™ä¸ªæ ¹è¯ä¹¦ç­¾åçš„è¯ä¹¦ï¼Œå°±ä¹Ÿå¯ä»¥è¢«ä¿¡ä»»å•¦ã€‚

æ‰€ä»¥åšä¸ºCAï¼Œæˆ‘ä»¬é¦–å…ˆè¦ç”Ÿæˆè‡ªå·±çš„æ ¹è¯ä¹¦ca.cert.pemï¼Œè€Œç”Ÿæˆæ ¹è¯ä¹¦éœ€è¦ca.key.pemã€‚

å¼€å§‹
åˆ›å»º/root/caæ–‡ä»¶å¤¹ï¼Œæ‰€æœ‰CAçš„æ“ä½œéƒ½ä¼šåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹æ‰§è¡Œã€‚

```

 # mkdir /root/ca
    # cd /root/ca
    # mkdir certs crl newcerts private
    # chmod 700 private
    # touch index.txt
    # echo 1000 > serial
    # touch openssl.cnf
    
```

/root/caï¼šCAæ–‡ä»¶å¤¹

/root/ca/certsï¼šæ–°ç­¾ç½²è¯ä¹¦å’Œæ ¹è¯ä¹¦å­˜æ”¾çš„ä½ç½®

/root/ca/crlï¼šè¯ä¹¦è¯·æ±‚æ–‡ä»¶å­˜æ”¾ä½ç½®

/root/ca/newcertsï¼šæ–°ç­¾ç½²è¯ä¹¦å­˜æ”¾çš„ä½ç½®ï¼Œæ˜¯/root/ca/certsçš„å¤‡ä»½

/root/ca/privateï¼šca.key.pemå­˜æ”¾ä½ç½®ï¼Œåƒä¸‡åˆ«ä¸¢å¤±

/root/ca/index.txtï¼šè¯ä¹¦ç­¾åçš„çºªå½•

/root/ca/serialï¼šä¸‹ä¸€æ¬¡è¯ä¹¦ç­¾åçš„åºåˆ—å·ï¼Œä¿å­˜åˆ°index.txt

æ‹·è´ä¸‹é¢å†…å®¹åˆ°/root/ca/openssl.cnf


```
# OpenSSL root CA configuration file.
# Copy to `/root/ca/openssl.cnf`.

[ ca ]
# `man ca`
default_ca = CA_default

[ CA_default ]
# Directory and file locations.
dir               = /root/ca
certs             = $dir/certs
crl_dir           = $dir/crl
new_certs_dir     = $dir/newcerts
database          = $dir/index.txt
serial            = $dir/serial
RANDFILE          = $dir/private/.rand

# The root key and root certificate.
private_key       = $dir/private/ca.key.pem
certificate       = $dir/certs/ca.cert.pem

# For certificate revocation lists.
crlnumber         = $dir/crlnumber
crl               = $dir/crl/ca.crl.pem
crl_extensions    = crl_ext
default_crl_days  = 30

# SHA-1 is deprecated, so use SHA-2 instead.
default_md        = sha256

name_opt          = ca_default
cert_opt          = ca_default
default_days      = 3750
preserve          = no
policy            = policy_strict

[ policy_strict ]
# The root CA should only sign intermediate certificates that match.
# See the POLICY FORMAT section of `man ca`.
countryName             = match
stateOrProvinceName     = match
organizationName        = match
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional

[ policy_loose ]
# Allow the intermediate CA to sign a more diverse range of certificates.
# See the POLICY FORMAT section of the `ca` man page.
countryName             = optional
stateOrProvinceName     = optional
localityName            = optional
organizationName        = optional
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional

[ req ]
# Options for the `req` tool (`man req`).
default_bits        = 2048
distinguished_name  = req_distinguished_name
string_mask         = utf8only

# SHA-1 is deprecated, so use SHA-2 instead.
default_md          = sha256

# Extension to add when the -x509 option is used.
x509_extensions     = v3_ca

[ req_distinguished_name ]
# See <https://en.wikipedia.org/wiki/Certificate_signing_request>.
countryName                     = Country Name (2 letter code)
stateOrProvinceName             = State or Province Name
localityName                    = Locality Name
0.organizationName              = Organization Name
organizationalUnitName          = Organizational Unit Name
commonName                      = Common Name
emailAddress                    = Email Address

# Optionally, specify some defaults.
countryName_default             = CN
stateOrProvinceName_default     = JiangSu
localityName_default            = NanJing
0.organizationName_default      = SIYOU325
organizationalUnitName_default  = SIYOU325
emailAddress_default            = webmaster@siyou325.com

[ v3_ca ]
# Extensions for a typical CA (`man x509v3_config`).
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

[ v3_intermediate_ca ]
# Extensions for a typical intermediate CA (`man x509v3_config`).
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true, pathlen:0
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

[ usr_cert ]
# Extensions for client certificates (`man x509v3_config`).
basicConstraints = CA:FALSE
nsCertType = client, email
nsComment = "OpenSSL Generated Client Certificate"
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
keyUsage = critical, nonRepudiation, digitalSignature, keyEncipherment
extendedKeyUsage = clientAuth, emailProtection

[ server_cert ]
# Extensions for server certificates (`man x509v3_config`).
basicConstraints = CA:FALSE
nsCertType = server
nsComment = "OpenSSL Generated Server Certificate"
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer:always
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth

[ crl_ext ]
# Extension for CRLs (`man x509v3_config`).
authorityKeyIdentifier=keyid:always

[ ocsp ]
# Extension for OCSP signing certificates (`man ocsp`).
basicConstraints = CA:FALSE
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
keyUsage = critical, digitalSignature
extendedKeyUsage = critical, OCSPSigning
```

å…·ä½“çš„è§£é‡Šå¯ä»¥çœ‹ä¸Šé¢çš„é“¾æ¥(çœŸçš„æ˜¯å¾ˆæ¨è)ï¼Œè¿™é‡Œæˆ‘æ‹£é‡è¦çš„è¯´ä¸‹

dir = /root/caï¼šè¿™é‡Œéœ€è¦æ”¹ä¸ºä¸Šé¢çš„CAæ–‡ä»¶å¤¹

policy = policy_strictï¼šç­¾CAè¯ä¹¦ä½¿ç”¨strictç­–ç•¥

countryName_default = CN

0.organizationName_default = SIYOU325 CA

è¿™ä¸¤ä¸ªæ˜¯å›½å®¶å’Œç»„ç»‡åå­—ï¼Œä¼šæ˜¾ç¤ºåˆ°ç”Ÿæˆçš„è¯ä¹¦ä¸Šã€‚ç®€å•çš„ç­¾ä¸ªCAè¯ä¹¦ï¼Œæˆ‘ä»¬åªè®¾ç½®è¿™ä¸¤ä¸ªå€¼ï¼Œå…¶ä»–éƒ½æ˜¯ç©ºã€‚

[ v3_ca ]ï¼šç­¾CAè¯ä¹¦éœ€è¦è¿™ä¸ªé…ç½®

[ server_cert ]ï¼šæ¥ä¸‹æ¥ç­¾æœåŠ¡ç«¯è¯ä¹¦éœ€è¦è¿™ä¸ª

ç”Ÿæˆroot key

```
# cd /root/ca
# openssl genrsa -aes256 -out private/ca.key.pem 4096

è¾“å…¥ä¸¤æ¬¡å¯†ç siyou325123456,è¿™ä¸ªæ˜¯å¾ˆé‡è¦çš„å¯†ç ï¼Œè®¾ç½®ä¸¥æ ¼ç‚¹ã€‚

# chmod 400 private/ca.key.pem

```

ç”Ÿæˆroot certificate

```
# cd /root/ca
# openssl req -config openssl.cnf \
      -key private/ca.key.pem \
      -new -x509 -days 7500 -sha256 -extensions v3_ca \
      -out certs/ca.cert.pem

æ ¹æ®æç¤ºè¾“å…¥keyçš„å¯†ç ï¼šsiyou325123456
ç„¶åä¸€å€¼å›è½¦ä¸‹å»ï¼Œä½¿ç”¨é»˜è®¤å€¼

# chmod 444 certs/ca.cert.pem
```

-days 7300ï¼šæœ‰æ•ˆæœŸ20å¹´

åˆ°è¿™ä¸€æ­¥ca.key.pem(root key)å’Œca.cert.pem(root certificate)éƒ½å·²ç»ç”Ÿæˆå¥½äº†ï¼Œè·¯å¾„å¦‚ä¸‹


```
/root/ca/private/ca.key.pem
/root/ca/certs/ca.cert.pem
```

è‡³æ­¤ç”Ÿæˆæ ¹è¯ä¹¦å®Œæˆã€‚

ca.key.pemå¯†ç æ˜¯siyou325123456ï¼Œéå¸¸é‡è¦ï¼Œéœ€è¦å¥½å¥½ä¿å­˜ã€‚

ca.cert.pemå°±æ˜¯æ ¹è¯ä¹¦ï¼Œéœ€è¦æŠŠå®ƒå‘ç»™ç”¨æˆ·ï¼Œè®©ç”¨æˆ·å®‰è£…ä¿¡ä»»å®ƒï¼Œè¿™æ ·ä»¥åæˆ‘ä»¬ç”¨è¿™ä¸ªè¯ä¹¦ç­¾åçš„è¯ä¹¦å°±éƒ½å¯ä»¥è¢«ä¿¡ä»»äº†ã€‚

##### ä¸‰. ç”ŸæˆæœåŠ¡ç«¯è¯ä¹¦
CAè§’è‰²è¦åšçš„å·¥ä½œå·²ç»å®Œæˆäº†ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥ç”¨æˆ·è¿™ä¸ªè§’è‰²ï¼Œç”Ÿæˆä¸€ä¸ªtomcatå’Œnginxå¯ä»¥ä½¿ç”¨çš„æœåŠ¡ç«¯è¯ä¹¦ã€‚

è¿™é‡Œå‡è®¾æˆ‘ä»¬ç½‘ç«™çš„åŸŸåæˆ–ipåœ°å€æ˜¯127.0.0.1ï¼Œé‚£ä¹ˆåœ¨caåŒçº§ç›®å½•ä¸‹åˆ›å»º127.0.0.1æ–‡ä»¶å¤¹ï¼Œç”ŸæˆæœåŠ¡ç«¯è¯ä¹¦æ“ä½œéƒ½åœ¨è¿™ä¸ªç›®å½•ä¸‹è¿›è¡Œã€‚

```
# mkdir /root/127.0.0.1
# cd /root/127.0.0.1

# openssl genrsa -out server.key 2048
# openssl req -new -key server.key -out server.csr

ä¼šå‡ºç°æç¤ºï¼Œç®€å•ç‚¹ï¼Œé™¤äº†ä¸‹é¢å‡ ä¸ªï¼Œå…¶ä»–çš„éƒ½æŒ‰å›è½¦å°±å¯ä»¥äº†ã€‚
Country Nameè¾“å…¥:CN
Common Nameè¾“å…¥åŸŸåæˆ–ipï¼š127.0.0.1
A challenge passwordè¾“å…¥:server123456
```

openssl genrsa -out server.key 2048ï¼šè¿™ä¸ªå‘½ä»¤åé¢2048ä»£è¡¨åŠ å¯†ä½æ•°ï¼Œä¸¥æ ¼çš„ä½¿ç”¨4096ï¼Œä¾‹å¦‚ä¸Šé¢çš„æ ¹è¯ä¹¦ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªï¼Œä¸€èˆ¬ä½¿ç”¨2048å’Œ1024å°±å¯ä»¥äº†ï¼Œæ•°å€¼è¶Šå¤§httpsé“¾æ¥ç­‰å¾…æ—¶é—´è¶Šé•¿ã€‚

åˆ°è¿™å„¿ï¼Œæˆ‘ä»¬æœåŠ¡ç«¯key(server.key)å’Œè¯ä¹¦è¯·æ±‚(server.csr)å°±ç”Ÿæˆå•¦ã€‚

æ¥ä¸‹æ¥æ‹·è´server.csråˆ°ca/crlå¹¶æ”¹åä¸º127.0.0.1.csr.pem

```
cp server.csr ../ca/crl/127.0.0.1.csr.pem
```

ç„¶åè§’è‰²åˆ‡æ¢åˆ°CAè§’è‰²ï¼Œå¯¹è¿™ä¸ªè¯·æ±‚è¿›è¡Œå¤„ç†ã€‚

é¦–å…ˆä¿®æ”¹ä¸‹/root/ca/openssl.cnf


```
policy            = policy_strict
æ”¹ä¸º
policy            = policy_loose
```

policy_strictåªåœ¨ç”Ÿæˆæ ¹è¯ä¹¦çš„æ—¶å€™ä½¿ç”¨ï¼Œå…¶ä»–æ—¶å€™ä½¿ç”¨looseç­–ç•¥å°±å¯ä»¥å•¦ã€‚

```
# cd /root/ca
# openssl ca -config openssl.cnf \
  -extensions server_cert -days 375 -notext -md sha256 \
  -in crl/127.0.0.1.csr.pem \
  -out certs/127.0.0.1.cert.pem
```

-days 375:æœ‰æ•ˆæœŸ375å¤©,é»˜è®¤å€¼ä¹Ÿæ˜¯375å¤©

è¿™æ—¶å€™ï¼Œä½ ä¼šå‘ç°

/root/ca/certsä¸‹å¤šäº†127.0.0.1.cert.pem(è¿™ä¸ªå°±æ˜¯ç”Ÿæˆå¥½çš„è¯ä¹¦)
newcertsä¸‹é¢å¤šäº†1000.pem(è¿™ä¸ªæ˜¯è¯ä¹¦å¤‡ä»½ï¼Œ1000æ˜¯ä»serialä¸­å–çš„)
/root/ca/index.txtå¤šäº†è¡Œçºªå½•

```
/root/ca/index.txt
V   171014020124Z       1000    unknown /C=CN/ST=Some-State/O=Internet Widgits Pty Ltd/CN=127.0.0.1
```

/root/ca/serialä¸­çš„å€¼+1å˜æˆäº†1001ã€‚
å°†/root/ca/certs/127.0.0.1.cert.pemè¯ä¹¦å‘ç»™ç”¨æˆ·ï¼ŒCAè§’è‰²çš„å·¥ä½œå°±å®Œæˆå•¦ã€‚

è§’è‰²åˆ‡æ¢å›ç”¨æˆ·ï¼Œæˆ‘ä»¬å°†CAå‘ç»™æˆ‘ä»¬çš„127.0.0.1.cert.pemæ‹·è´åˆ°/root/127.0.0.1ç›®å½•ä¸‹ï¼Œå¹¶æ”¹åä¸ºserver.crtã€‚

è¿™æ—¶æˆ‘ä»¬ç›®å½•ä¸‹æœ‰ä¸‹é¢ä¸‰ä¸ªæ–‡ä»¶

```
server.crt server.csr server.key
```

server.crtå°±æ˜¯æˆ‘ä»¬è¦çš„è¯ä¹¦ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®nginxæ”¯æŒhttpså•¦ã€‚

nginxé…ç½®

```
server {
    listen       443;
    server_name  127.0.0.1;

    ssl on;
    ssl_certificate      /root/127.0.0.1/server.crt;
    ssl_certificate_key  /root/127.0.0.1/server.key;
    ssl_session_cache    shared:SSL:1m;
    ssl_session_timeout  10m;
    ssl_ciphers  HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers  on;

    location / {
        proxy_pass   http://127.0.0.1;
    }

    location ~ ^(.*)\/\.svn\/ {
        deny all;
    }
}

```

è¦æ”¯æŒtomcatçš„è¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¿›è¡Œä¸‹é¢çš„æ“ä½œã€‚

```
# cd /root/127.0.0.1
# openssl pkcs12 -export \
    -in server.crt \
    -inkey server.key \
    -out server.p12

è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼šserver123456

# keytool -importkeystore -v \
    -srckeystore  server.p12 \
    -srcstoretype pkcs12 \
    -srcstorepass server123456 \
    -destkeystore server.keystore \
    -deststoretype jks \
    -deststorepass server123456
```

æ“ä½œåçš„æ–‡ä»¶ç›®å½•

```
server.crt      server.csr      server.key  
server.p12      server.keystore 
```

tomcaté…ç½®

```
<Connector SSLEnabled="true" clientAuth="false" 
keystoreFile="/root/127.0.0.1/server.keystore" 
keystorePass="server123456" 
maxThreads="150" port="8443" protocol="org.apache.coyote.http11.Http11Protocol" scheme="https" secure="true" sslProtocol="TLS"/>
```

ç»“å°¾
ä»¥åå¦‚æœéœ€è¦ç”Ÿæˆåˆ«çš„æœåŠ¡ç«¯è¯ä¹¦ï¼Œæˆ‘ä»¬å°±åªç”¨ä» ä¸‰. ç”ŸæˆæœåŠ¡ç«¯è¯ä¹¦å¼€å§‹å°±å¯ä»¥å•¦ï¼Œæ˜¯ä¸æ˜¯å¾ˆeasy.


å‚è€ƒï¼š

https://jamielinux.com/docs/openssl-certificate-authority/index.html
http://blog.csdn.net/RazerTang/article/details/46898051/
 computer
 system https ca







## Share:

1 åšäº‹æƒ…ä¸€å®šä¸èƒ½æ‹–ï¼Œæœ¬æ¥æ‰“ç®—è¿™å‘¨å®Œæˆä¸¤ç¯‡artsçš„ï¼Œç»“æœåˆ«çš„äº‹æƒ…ä¸€å¿™ï¼Œå°±åªèƒ½å†™ä¸€ç¯‡äº†ã€‚
2 çœŸçš„ä½©æœå´”æ°¸å…ƒï¼Œå…ˆæ˜¯ä¸¾æŠ¥fbbï¼Œç„¶åå¦‚ä¸‹å›¾ï¼Œå´”åšäº†å¾ˆå¤šäººæƒ³åšä¸åšçš„äº‹ï¼Œæˆ–æ˜¯æ•¢åšå´æ— æ³•åšåˆ°çš„äº‹ï¼Œåæœå°±æ˜¯å´”é¢ä¸´æ­»çš„å¨èƒã€‚ä¸­å›½ç¼ºå°‘å´”è¿™æ ·çš„äººï¼Œæ„¿å´”å¹³å®‰ã€‚
![](/img/15392606563684.jpg)

![](/img/15392605314267.jpg)

![](/img/15392603600135.jpg)


